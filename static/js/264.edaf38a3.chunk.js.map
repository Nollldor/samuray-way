{"version":3,"file":"static/js/264.edaf38a3.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/common/Paginator/Paginator.module.css?6caa","components/common/Paginator/Paginator.tsx","webpack://samurai-way/./src/components/Users/User/User.module.css?cfea","components/Users/User/User.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx","redux/Selectors/Users-selectors.ts","../node_modules/classnames/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"paginator\":\"Paginator_paginator__o+LeK\",\"pageNumber\":\"Paginator_pageNumber__qnz-s\",\"selectedPage\":\"Paginator_selectedPage__+gzZA\"};","import React, {FC, useState} from \"react\";\r\nimport styles from \"components/common/Paginator/Paginator.module.css\"\r\nimport cn from 'classnames'\r\n\r\nexport type PaginatorPropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (page: number) => void\r\n    portionSize: number\r\n}\r\n\r\nexport const Paginator: FC<PaginatorPropsType> = (\r\n    {\r\n        totalItemsCount,\r\n        pageSize,\r\n        currentPage,\r\n        onPageChanged,\r\n        portionSize\r\n    }) => {\r\n    const pageCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pageCount / portionSize)\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 && <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>Prev</button>}\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={cn({[styles.selectedPage]: currentPage === p}, styles.pageNumber)} key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p)\r\n                             }}\r\n                >{p}</span>\r\n            })}\r\n        {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>Next</button>}\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"usersPhoto\":\"User_usersPhoto__AOr3d\"};","import React, {FC} from \"react\";\r\nimport styles from \"components/Users/User/User.module.css\";\r\nimport userPhoto from \"assets/img/small-user-avatar.png\";\r\nimport {UserType} from \"redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\ntype PropsType = {\r\n    user: UserType\r\n    unfollow: (id: number) => void\r\n    follow: (id: number) => void\r\n    fetchingInProgress: number[]\r\n}\r\n\r\nexport const User: FC<PropsType> = (\r\n    {\r\n        user,\r\n        follow,\r\n        unfollow,\r\n        fetchingInProgress,\r\n    }) => {\r\n    const dispatch = useDispatch()\r\n\r\n    return (\r\n\r\n        <div>\r\n            <span>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img src={user.photos.small ? user.photos.small : userPhoto}\r\n                         className={styles.usersPhoto}/>\r\n                </NavLink>\r\n            </span>\r\n            <span>\r\n                {user.followed ?\r\n                    <button disabled={fetchingInProgress.some(uid => uid === user.id)} onClick={() => {\r\n                        dispatch(unfollow(user.id))\r\n                    }}>Unfollow</button>\r\n\r\n                    : <button disabled={fetchingInProgress.some(uid => uid === user.id)} onClick={() => {\r\n                        dispatch(follow(user.id))\r\n                    }}>Follow</button>}\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{\"u.location.country\"}</div>\r\n                    <div>{\"u.location.city\"}</div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    )\r\n}","import React, {FC} from \"react\";\r\nimport {UserType} from \"redux/users-reducer\";\r\nimport {Paginator} from \"components/common/Paginator/Paginator\";\r\nimport {User} from \"components/Users/User/User\";\r\n\r\n\r\ntype UsersPropsType = {\r\n    currentPage: number\r\n    pageSize: number\r\n    totalItemsCount: number\r\n    unfollow: (id: number) => void\r\n    follow: (id: number) => void\r\n    onPageChanged: (page: number) => void\r\n    users: UserType[],\r\n    fetchingInProgress: number[]\r\n}\r\n\r\nexport const Users: FC<UsersPropsType> = (\r\n    {\r\n        currentPage,\r\n        pageSize,\r\n        totalItemsCount,\r\n        follow,\r\n        unfollow,\r\n        onPageChanged,\r\n        users,\r\n        fetchingInProgress,\r\n    }) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged} pageSize={pageSize}\r\n                       totalItemsCount={totalItemsCount} portionSize={10}/>\r\n            {\r\n                users.map(u => {\r\n                    return (\r\n                        <div key={u.id}>\r\n                            <User unfollow={unfollow} follow={follow} user={u} fetchingInProgress={fetchingInProgress}/>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}","import React, {FC, useEffect} from \"react\";\r\nimport {followTC, getUsersTC, setCurrentPage, unfollowTC, UsersPageType, UserType} from \"../../redux/users-reducer\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {StateType} from \"../../redux/redux-store\";\r\nimport {\r\n    getCurrentPage, getFetchingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/Selectors/Users-selectors\";\r\n\r\ntype UsersPropsType = {\r\n\r\n}\r\n\r\nexport const UsersContainer: FC<UsersPropsType> = () => {\r\n\r\n    const UserPageData = useSelector<StateType, UsersPageType>(state => state.usersPage)\r\n    const dispatch = useDispatch()\r\n\r\n    const users: UserType[] = getUsers(UserPageData)\r\n    const pageSize: number = getPageSize(UserPageData)\r\n    const totalUsersCount: number = getTotalUsersCount(UserPageData)\r\n    const currentPage: number = getCurrentPage(UserPageData)\r\n    const isFetching: boolean = getIsFetching(UserPageData)\r\n    const fetchingInProgress: number[] = getFetchingInProgress(UserPageData)\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getUsersTC(currentPage, pageSize))\r\n    }, [])\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(getUsersTC(pageNumber, pageSize))\r\n        dispatch(setCurrentPage(pageNumber))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {isFetching && <Preloader/>}\r\n            <Users\r\n                users={users}\r\n                pageSize={pageSize}\r\n                totalItemsCount={totalUsersCount}\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n                follow={followTC}\r\n                unfollow={unfollowTC}\r\n                fetchingInProgress={fetchingInProgress}\r\n            />\r\n        </>\r\n\r\n    )\r\n}\r\n","import {UsersPageType} from \"../users-reducer\";\r\n\r\nexport const getUsers = (UsersPageData: UsersPageType) => UsersPageData.users\r\n\r\nexport const getPageSize = (UsersPageData: UsersPageType) => UsersPageData.pageSize\r\n\r\nexport const getTotalUsersCount = (UsersPageData: UsersPageType) => UsersPageData.totalUsersCount\r\n\r\nexport const getCurrentPage = (UsersPageData: UsersPageType) => UsersPageData.currentPage\r\n\r\nexport const getIsFetching = (UsersPageData: UsersPageType) => UsersPageData.isFetching\r\n\r\nexport const getFetchingInProgress = (UsersPageData: UsersPageType) => UsersPageData.fetchingInProgress","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"names":["Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","onClick","filter","p","map","cn","e","User","user","follow","unfollow","fetchingInProgress","dispatch","useDispatch","to","id","src","photos","small","userPhoto","followed","disabled","some","uid","name","status","Users","users","u","UsersContainer","UserPageData","useSelector","state","usersPage","UsersPageData","getPageSize","totalUsersCount","getTotalUsersCount","getCurrentPage","isFetching","getIsFetching","getFetchingInProgress","useEffect","getUsersTC","Preloader","pageNumber","setCurrentPage","followTC","unfollowTC","hasOwn","hasOwnProperty","classNames","classes","arguments","length","arg","argType","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","module","exports","default"],"sourceRoot":""}